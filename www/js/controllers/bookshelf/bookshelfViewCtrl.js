app.controller("bookshelfViewCtrl",["$scope","httpService","$ionicModal","fileTransferHelper","curUserService","Config",function($scope,httpService,$ionicModal,fileTransferHelper,curUserService,config){function readFile(blob,callback){var a=new FileReader;a.onload=function(e){callback(e.target.result)},a.readAsText(blob)}var isLogined=(curUserService.getCurUser(),curUserService.getIsLogined());$scope.modal=$ionicModal.fromTemplateUrl("operateMenu.html",{scope:$scope}).then(function(modal){$scope.modal=modal}),$scope.sideModal=$ionicModal.fromTemplateUrl("chapterPage.html",{scope:$scope}).then(function(modal){$scope.sideModal=modal});var loadInfo=function(){isLogined?$scope.filePath=config.filePrefix+fileTransferHelper.getter():readFile(fileTransferHelper.getter(),function(result){$scope.textContent=result})};loadInfo()}]);