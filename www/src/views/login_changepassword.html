<ion-view view-title="修改密码">
<ion-header-bar class="bar bar-light" align-title="center">
    <a ui-sref="login.self.account" class="button button-clear button-dark">
      <i class="ion-arrow-left-c"></i>返回</a>
  </ion-header-bar>
    <form  name="changepassword" novalidate>
    <ion-content class="padding" ng-controller="loginCtrl">

            <div class="list">
                <label class="item item-input ">
                    <span class="input-label">旧密码<i class="icon ion-information assertive"></i></span>
                    <input type="password" name="usedPassword" placeholder="旧密码" ng-model="regist.oldPassword" required ng-maxlength="30" >
                </label>
               <span  style="color:maroon" ng-show="changepassword.usedPassword.$dirty&&changepassword.usedPassword.$error" ng-hide="changepassword.usedPassword.$pristine || changepassword.usedPassword.$valid" ng-messages="changepassword.usedPassword.$dirty&&changepassword.usedPassword.$error"  class="item" role="alert">
                        <div ng-message="required" class="link-right">旧密码不能为空</div>
                        <div ng-message="minlength,maxlength" class="link-right">密码长度为6到30位</div>
                    </span>

                <label class="item item-input ">
                    <span class="input-label">新密码<i class="icon ion-information assertive"></i></span>
                    <input type="password" name="passwordToUse" placeholder="新密码" ng-model="regist.newPassword"  required ng-maxlength="30">
                </label>
                <span  style="color:maroon" ng-show="changepassword.passwordToUse.$dirty&&changepassword.passwordToUse.$error" ng-hide=" changepassword.passwordToUse.$pristine || changepassword.passwordToUse.$valid" ng-messages="changepassword.passwordToUse.$dirty&&changepassword.passwordToUse.$error"  class="item" role="alert">
                        <div ng-message="required" class="link-right">新密码不能为空</div>
                        <div ng-message="minlength,maxlength" class="link-right">密码长度为6到30位</div>
                    </span>
                <label class="item item-input ">
                    <span class="input-label">确认密码<i class="icon ion-information assertive"></i></span>
                    <input type="password" name="retyped" placeholder="请确认密码"  ng-model="retypedPassword" bf-assert-equals="changepassword.newpassword" bf-field-error="{same:' 两次输入的密码不一致'}" required>
                </label>
                 <span  style="color:maroon" ng-show="changepassword.retyped.$dirty&&changepassword.retyped.$error" ng-hide="changepassword.retyped.$pristine||changepassword.retyped.$valid" ng-messages="changepassword.retyped.$dirty&&changepassword.retyped.$error"  class="item" role="alert">
                        <div ng-message="required" class="link-right">请确认密码</div>
                        <div ng-message="same" class="link-right">两次输入不一致</div>
                    </span>
                <button type="submit" class="button button-block button-balanced" ng-disabled="changepassword.$invalid" ng-click="changePassword();">
                    修改密码
                </button>
            </div>
         </ion-content>
        </form>

</ion-view>
