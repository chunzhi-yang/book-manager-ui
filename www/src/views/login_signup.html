<ion-view view-title="注册">
    <ion-header-bar align-title="center" class="bar-assertive">
        <a class="button icon ion-backspace pull-left" ui-sref="login.signin">返回</a>
        <span class="button" ng-disable="true" >用户注册</span></ion-header-bar>
    <form  name="register" novalidate ng-cloak>
    <ion-content ng-controller="loginCtrl">
            <div class="list">
                <label class="item item-input ">
                    <span class="input-label">用户名<i class="icon ion-star assertive"></i></span>
                    <input type="text" name="myAccount" placeholder="登录账号" required ng-maxlength="50"
                          unique-account    ng-model="register.account" >
                </label>
                 <span  style="color:maroon" ng-messages="register.myAccount.$dirty && register.myAccount.$error"
                        class="item" role="alert">
                        <div ng-message="required" class="link-right">用户名不能为空</div>
                        <div ng-message="maxlength" class="link-right">用户名长度不能超过50位</div>
                        <div ng-message="uniqueAccount" class="link-right">用户名已存在</div>
                    </span>
                <label class="item item-input ">
                    <span class="input-label">昵称<i class="icon ion-star assertive"></i></span>
                    <input type="text" name="nickname"  placeholder="昵称" ng-model="register.name"
                           ng-maxlength="50" required>
                </label>
                 <span  style="color:maroon" ng-messages="register.nickname.$dirty &&register.nickname.$error"
                        class="item" role="alert">
                        <div ng-message="required" class="link-right">昵称不能为空</div>
                        <div ng-message="maxlength" class="link-right">昵称长度不能超过50位</div>
                    </span>
                <label class="item item-input ">
                    <span class="input-label">邮箱<i class="icon ion-star assertive"></i></span>
                <input type="email" name="myEmail" placeholder="邮箱" unique-email ng-model="register.email"
                       required ng-maxlength="50">
                </label>
                 <span  style="color:maroon" ng-messages="register.myEmail.$dirty && register.myEmail.$error"  class="item"  role="alert">
                        <div ng-message="required" class="link-right">邮箱不能为空</div>
                        <div ng-message="maxlength" class="link-right">邮箱长度不能超过50</div>
                        <div ng-message="email" class="link-right">邮箱格式不正确</div>
                        <div ng-message="uniqueEmail" class="link-right">该邮箱已被注册</div>
                    </span>
                <label class="item item-input ">
                    <span class="input-label">密码<i class="icon ion-star assertive"></i></span>
                    <input type="password" name="myPassword" placeholder="密码" ng-model="register.password" required>
                </label>
                <span  style="color:maroon" ng-messages="register.myPassword.$dirty &&register.myPassword.$error"
                        class="item" role="alert">
                        <div ng-message="required" class="link-right">密码不能为空</div>
                        <div ng-message="minlength,maxlength" class="link-right">密码长度为6到30位</div>
                    </span>
                <label class="item item-input ">
                    <span class="input-label">请确认密码<i class="icon ion-star assertive"></i></span>
                    <input type="password" name="retyped" placeholder="请确认密码"  ng-model="retypedPassword"
                           bf-assert-equals="register.password"  required>
                </label>
                <div class="item" style="color:maroon" ng-messages="register.retyped.$dirty&&register.retyped.$error">
                    <div ng-message="required" class="link-right">请确认密码</div>
                    <span ng-message="same" class="link-right">两次输入的密码不一致</span>
                </div>
                <button type="submit" class="button button-block button-balanced" ng-disabled="$register.$invalid" ng-click="doCreate();">
                立即注册
                </button>
            </div>
         </ion-content>
        </form>
</ion-view>
